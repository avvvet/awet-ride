(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{158:function(e,t,a){"use strict";var n=a(41),l=a.n(n),r=(a(46),a(42)),o=a.n(r),i=(a(7),a(0)),s=a.n(i),c=a(73),m=a(179),u=a(180),d=a(40),b=a(159),p=a(474),h=a(200);function g(e){var t=e.children,a=e.className,n=e.content,r=o()("sub header",a),i=Object(m.a)(g,e),c=Object(u.a)(g,e);return s.a.createElement(c,l()({},i,{className:r}),d.a.isNil(t)?n:t)}g.handledProps=["as","children","className","content"],g.propTypes={},g.create=Object(h.e)(g,function(e){return{content:e}});var E=g;function f(e){var t=e.children,a=e.className,n=e.content,r=o()("content",a),i=Object(m.a)(f,e),c=Object(u.a)(f,e);return s.a.createElement(c,l()({},i,{className:r}),d.a.isNil(t)?n:t)}f.handledProps=["as","children","className","content"],f.propTypes={};var v=f;function y(e){var t=e.attached,a=e.block,n=e.children,r=e.className,i=e.color,h=e.content,g=e.disabled,f=e.dividing,O=e.floated,j=e.icon,w=e.image,N=e.inverted,C=e.size,_=e.sub,R=e.subheader,S=e.textAlign,M=o()("ui",i,C,Object(c.a)(a,"block"),Object(c.a)(g,"disabled"),Object(c.a)(f,"dividing"),Object(c.e)(O,"floated"),Object(c.a)(!0===j,"icon"),Object(c.a)(!0===w,"image"),Object(c.a)(N,"inverted"),Object(c.a)(_,"sub"),Object(c.b)(t,"attached"),Object(c.d)(S),"header",r),k=Object(m.a)(y,e),P=Object(u.a)(y,e);if(!d.a.isNil(n))return s.a.createElement(P,l()({},k,{className:M}),n);var x=b.a.create(j,{autoGenerateKey:!1}),A=p.a.create(w,{autoGenerateKey:!1}),F=E.create(R,{autoGenerateKey:!1});return x||A?s.a.createElement(P,l()({},k,{className:M}),x||A,(h||F)&&s.a.createElement(v,null,h,F)):s.a.createElement(P,l()({},k,{className:M}),h,F)}y.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],y.propTypes={},y.Content=v,y.Subheader=E;t.a=y},495:function(e,t,a){"use strict";a.r(t);var n=a(10),l=a(11),r=a(13),o=a(12),i=a(14),s=a(0),c=a.n(s),m=a(496),u=a(474),d=a(224),b=a(56),p=a(15),h=a(8),g=a(5),E=a(223),f=a(494),v=a(158),y=a(488),O=a(52),j=a.n(O),w=a(61),N=[{key:"m",text:"Male",value:"male"},{key:"f",text:"Female",value:"female"}],C=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(r.a)(this,Object(o.a)(t).call(this))).validateRiderApply=function(){var t=[];return 0===e.state.firstName.length?t.push("First name field is empty."):e.state.firstName.length<2?t.push("Your first name is very short."):!1===w.isAlpha(e.state.firstName)&&t.push("First name needs to be alphabet"),0===e.state.middleName.length?t.push("Father name field is empty."):e.state.middleName.length<2?t.push("Father name is very short"):!1===w.isAlpha(e.state.middleName)&&t.push("Father name needs to be alphabet"),!1===w.isEmail(e.state.email)?t.push("Email address is not valid."):0===e.state.email.length&&t.push("Mobile field is empty."),0===e.state.mobile.length?t.push("Mobile field is empty"):!1===w.isNumeric(e.state.mobile,{no_symbols:!0})?t.push("Mobile number is not valid"):!1===w.isMobilePhone(e.state.mobile)?t.push("Mobile field is not correct"):e.state.mobile.length<10?t.push("Mobile number needs to be 10 digits"):e.state.mobile.length>10&&t.push("Mobile number needs to be 10 digits"),0===e.state.password.length?t.push("Password field is empty"):!1===w.isLength(e.state.password,{min:6})?t.push("Password length must not be less than 6 characters"):!1===w.isLength(e.state.password,{max:15})&&t.push("Password length very long"),0===e.state.gender.length&&t.push("Gender field is not selected"),t},e.change=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.onChangeGender=function(t,a){e.setState({gender:a.value})},e.onRiderApply=function(t){t.preventDefault();var a=e.validateRiderApply();if(a.length>0){var n=e.getErrorList(a);Object(h.render)(c.a.createElement(E.a,{negative:!0},n),document.getElementById("ApplyFormError"))}else{var l={firstName:e.state.firstName,middleName:e.state.middleName,email:e.state.email,mobile:e.state.mobile,password:e.state.password,gender:e.state.gender};e.riderApply(l),e.setState({firstName:"",middleName:"",email:"",mobile:"",password:"",gender:"",errors:[]})}},e.riderApply=function(t){j()(".btn_apply").addClass("loading"),j.a.ajax({type:"POST",url:"/user/apply",data:JSON.stringify(t),contentType:"application/json",success:function(e,t,a){j()(".btn_apply").removeClass("loading"),localStorage.setItem("_auth_user",e.token),this.setState({auth:e.token})}.bind(Object(p.a)(Object(p.a)(e))),error:function(e,t,a){j()(".btn_apply").removeClass("loading"),console.error(e,t,a.toString())}.bind(Object(p.a)(Object(p.a)(e)))})},e._yes=function(t){e.setState({show_form:!0})},e.state={firstName:"",middleName:"",email:"",mobile:"",password:"",gender:"",errors:[],auth:!1,show_form:!1},e}return Object(i.a)(t,e),Object(l.a)(t,[{key:"getErrorList",value:function(e){var t=0;return e.map(function(e){return c.a.createElement("li",{key:t++},e)})}},{key:"render",value:function(){var e=this;return this.state.auth?c.a.createElement(g.a,{to:"/user"}):c.a.createElement("div",null,!1===this.state.show_form?c.a.createElement("div",null,c.a.createElement(d.a,{textAlign:"center",color:"red",pointing:"below"},"\u12a0\u12f2\u1235 \u1270\u1233\u134b\u122a \u1361 \u12a5\u12da\u1205 \u12ed\u1218\u12dd\u1308\u1261 !"),c.a.createElement("div",{className:"driverLoginBox"},c.a.createElement(m.a,{columns:1,centered:!0,stackable:!0},c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement(f.a,{color:"teal",size:"huge",onClick:function(t){return e._yes(t)},fluid:!0},"\u12a0\u12f2\u1235 \u1270\u1233\u134b\u122a \u121d\u12dd\u1308\u1263 NEW PASSENGER")))))):c.a.createElement("div",{className:"driverLoginBox"},c.a.createElement(v.a,{as:"h3",textAlign:"center",color:"grey"},"\u12a0\u12f2\u1235 \u1270\u1233\u134b\u122a \u121d\u12dd\u1308\u1263 NEW PASSENGER"),c.a.createElement(m.a,{columns:1},c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement(y.a,null,c.a.createElement("label",null,"First Name"),c.a.createElement("input",{name:"firstName",type:"text",value:this.state.firstName,placeholder:"First Name",onChange:function(t){return e.change(t)}})))),c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement(y.a,null,c.a.createElement("label",null,"Father Name"),c.a.createElement("input",{name:"middleName",type:"text",value:this.state.middleName,placeholder:"Father Name",onChange:function(t){return e.change(t)}})))),c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement(y.a,null,c.a.createElement("label",null,"Email"),c.a.createElement("input",{name:"email",type:"text",value:this.state.email,placeholder:"email address",onChange:function(t){return e.change(t)}})))),c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement(y.a,null,c.a.createElement("label",null,"Mobile"),c.a.createElement("input",{name:"mobile",type:"text",value:this.state.mobile,placeholder:"Mobile number",onChange:function(t){return e.change(t)}})))),c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement(y.a,null,c.a.createElement("label",null,"Password"),c.a.createElement("input",{name:"password",type:"password",value:this.state.password,placeholder:"Password",onChange:function(t){return e.change(t)}})))),c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement(y.a,null,c.a.createElement(y.a.Select,{name:"gender",fluid:!0,label:"Gender",options:N,placeholder:"Gender",onChange:this.onChangeGender})))),c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement("div",{id:"ApplyFormError",className:"ApplyFormError"}))),c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement(f.a,{className:"btn_apply",color:"teal",size:"huge",onClick:function(t){return e.onRiderApply(t)},fluid:!0},"\u1218\u12dd\u1308\u1260\u129d REGISTER"))))))}}]),t}(s.Component),_=a(483),R=a(61),S=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(r.a)(this,Object(o.a)(t).call(this))).add_trafic=function(t){var a={trafic_type:t};j.a.ajax({type:"POST",url:"/admin/add_trafic",data:JSON.stringify(a),contentType:"application/json",success:function(e,t,a){console.log("trafic",e)}.bind(Object(p.a)(Object(p.a)(e))),error:function(e,t,a){console.error("erroorror",a.toString())}.bind(Object(p.a)(Object(p.a)(e)))})},e.validateRiderLogin=function(){var t=[];return 0===e.state.loginMobile.length?t.push("Mobile field is empty"):!1===R.isNumeric(e.state.loginMobile,{no_symbols:!0})?t.push("Mobile number is not valid"):!1===R.isMobilePhone(e.state.loginMobile)?t.push("Mobile field is not correct"):e.state.loginMobile.length<10?t.push("Mobile number needs to be 10 digits"):e.state.loginMobile.length>10&&t.push("Mobile number needs to be 10 digits"),0===e.state.loginPassword.length&&t.push("Password field is empty."),t},e.change=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.onRiderLogin=function(t){t.preventDefault(),j()(".btn_login").addClass("loading");var a=e.validateRiderLogin();if(a.length>0){j()(".btn_login").removeClass("loading");var n=e.getErrorList(a);Object(h.render)(c.a.createElement(E.a,{negative:!0},n),document.getElementById("FormError"))}else{j()(".btn_login").removeClass("loading");var l={mobile:e.state.loginMobile,password:e.state.loginPassword};e.riderLogin(l),e.setState({loginMobile:"",loginPassword:"",errors:[]})}},e.riderLogin=function(t){j()(".btn_login").addClass("loading"),j.a.ajax({type:"POST",url:"/user/login",data:JSON.stringify(t),contentType:"application/json",success:function(e,t,a){j()(".btn_login").removeClass("loading"),localStorage.setItem("_auth_user",e.token),this.setState({auth:e.token})}.bind(Object(p.a)(Object(p.a)(e))),error:function(e,t,a){j()(".btn_login").removeClass("loading"),"Unauthorized"===a.toString()?Object(h.render)(c.a.createElement(E.a,{negative:!0}," Invalid account ! please check your email and password"),document.getElementById("FormError")):Object(h.render)(c.a.createElement(E.a,{negative:!0}," Somthing wrong ! try again."),document.getElementById("FormError"))}.bind(Object(p.a)(Object(p.a)(e)))})},e.state={loginMobile:"",loginPassword:""},e}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.add_trafic("passenger")}},{key:"getErrorList",value:function(e){var t=0;return e.map(function(e){return c.a.createElement("li",{key:t++},e)})}},{key:"render",value:function(){var e=this;return this.state.auth?c.a.createElement(g.a,{to:"/user"}):c.a.createElement("div",null,c.a.createElement(v.a,{as:"h3",textAlign:"center",color:"grey"},"\u12e8\u1270\u1233\u134b\u122a \u1218\u130d\u1265\u12eb"),c.a.createElement(d.a,{textAlign:"center",color:"green",pointing:"below"},"\u12e8\u1235\u120d\u12ad \u1241\u1325\u122e\u1295 \u12a5\u1293 \u12e8\u121a\u1235\u1322\u122d \u12ae\u12f6\u1295 \u12eb\u1235\u1308\u1261 !"),c.a.createElement("div",{className:"driverLoginBox"},c.a.createElement(m.a,{columns:1},c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement(y.a,null,c.a.createElement(_.a,{name:"loginMobile",type:"text",label:{icon:"phone volume"},labelPosition:"left corner",value:this.state.loginMobile,placeholder:"\u1235\u120d\u12ad \u1241\u1325\u122d mobile",onChange:function(t){return e.change(t)},size:"huge",fluid:!0})))),c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement(y.a,null,c.a.createElement(_.a,{name:"loginPassword",type:"password",label:{icon:"asterisk"},labelPosition:"left corner",value:this.state.loginPassword,placeholder:"\u12e8\u121a\u1235\u1322\u122d \u12ae\u12f5 password",onChange:function(t){return e.change(t)},size:"huge",fluid:!0})))),c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement(f.a,{className:"btn_login",color:"green",size:"huge",onClick:function(t){return e.onRiderLogin(t)},fluid:!0},"\u12a0\u1235\u1308\u1263\u129d LOGIN"))))))}}]),t}(s.Component),M=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(r.a)(this,Object(o.a)(t).call(this))).state={auth:""},localStorage.removeItem("_auth_user"),e}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(m.a,{container:!0,columns:1,centered:!0},c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement("div",{id:"FormError",className:"FormError"}))),c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement(S,null))),c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18},c.a.createElement(C,null))),c.a.createElement(m.a.Row,null,c.a.createElement(m.a.Column,{mobile:18,tablet:18,computer:18,textAlign:"center"},c.a.createElement(u.a,{src:"/assets/nile_ride_logo_blue.png",height:75,centered:!0}),c.a.createElement(d.a,{color:"green",pointing:"above"},"\u12a8\u12d3\u1208\u121d \u1228\u12e5\u1219 \u12c8\u1295\u12dd"))))))}}]),t}(s.Component);t.default=M}}]);
//# sourceMappingURL=14.e8dc38c6.chunk.js.map