(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{485:function(e,a,t){"use strict";t.r(a);var n=t(56),o=t(10),r=t(11),l=t(13),c=t(12),s=t(14),i=t(0),u=t.n(i),d=(t(8),t(58)),m=t.n(d),h=t(222),p=t(496),g=t(488),v=t(483),f=t(159),b=t(142),y=t(66),w=t.n(y),_=t(52),k=t.n(_),E=(w.a.times(5,function(){return{title:"yes",description:"no",image:"no",price:20}}),m.a.icon({iconUrl:"/assets/marker_a.png",shadowUrl:"",iconSize:[40,40],shadowSize:[50,64],iconAnchor:[20,39],shadowAnchor:[4,62],popupAnchor:[-1,-45]})),C=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(l.a)(this,Object(c.a)(a).call(this)))._search=function(a){a.length>0?(new b.OpenStreetMapProvider).search({query:a}).then(function(a){k()(".search_data").removeClass("loading"),console.log("I am winner beacuse I have Jesus",a),e.setState({results:a}),document.getElementById("search_result").style.visibility="visible"}):k()(".search_data").removeClass("loading")},e.nomi=function(a){var t=0;return a.map(function(a){return u.a.createElement(h.a.Row,{key:t++},u.a.createElement(h.a.Cell,{onClick:function(){return e.handleRowClick(a)}},a.label))})},e.handleRowClick=function(a){if(a){document.getElementById("search_result").style.visibility="hidden",e.setState({search_data:a.label}),console.log("clicked",a.x);var t={lat:parseFloat(a.y),lng:parseFloat(a.x)};console.log(t);var n=e.state.map;m.a.marker(t,{icon:E}).addTo(n).bindPopup("here"),n.fitBounds(a.bounds),console.log(a.bounds)}},e.change=function(a){a.preventDefault(),k()(".search_data").addClass("loading"),e.setState(Object(n.a)({},a.target.name,a.target.value)),clearTimeout(e.timeout),e.timeout=setTimeout(e._search,1e3,a.target.value)},e.handleFocus=function(e){return e.target.select()},e.state={pickupAdress:"Lord my God you have plan in my life",locationGroup:"",pickup_latlng:{lat:0,lng:0},results:[],search_data:"",map:""},e}return Object(s.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=m.a.map("mapid");a.locate({setView:!0,maxZoom:17}),m.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(a),this.setState({map:a,locationGroup:(new m.a.LayerGroup).addTo(a)}),a.on("locationfound",function(t){var n=e.state.locationGroup,o=t.accuracy/1024;o=o.toFixed(2),m.a.marker(t.latlng).addTo(n).bindPopup("You are "+o+" meters from this point").openPopup(),console.log(t.latlng),m.a.circle(t.latlng,o).addTo(n),a.setView(t.latlng,15),e.setState({currentLatLng:t.latlng})}),a.on("locationerror",function(e){console.log("location error",e.message)})}},{key:"render",value:function(){var e=this,a=this.state;a.isLoading,a.value,a.results;return u.a.createElement("div",null,u.a.createElement("div",{className:"search_1",id:"search_1"},u.a.createElement(p.a,{centered:!0},u.a.createElement(p.a.Row,null,u.a.createElement(p.a.Column,{mobile:16,tablet:16,computer:16},u.a.createElement(g.a,null,u.a.createElement(v.a,{icon:u.a.createElement(f.a,{name:"search",inverted:!0,circular:!0,link:!0}),placeholder:"Search...",onClick:this.handleFocus,onFocus:this.handleFocus,onChange:function(a){return e.change(a)},value:this.state.search_data,name:"search_data",className:"search_data"}))))),u.a.createElement("div",{className:"search_result",id:"search_result"},u.a.createElement(h.a,{celled:!0,selectable:!0},u.a.createElement(h.a.Body,null,this.nomi(this.state.results))))),u.a.createElement("div",{className:"mapid",id:"mapid"}))}}]),a}(i.Component);a.default=C}}]);
//# sourceMappingURL=17.e4a2534f.chunk.js.map