{"version":3,"sources":["components/playground.js"],"names":["marker_a","_","times","title","description","image","price","L","icon","iconUrl","shadowUrl","iconSize","shadowSize","iconAnchor","shadowAnchor","popupAnchor","Playground","_this","Object","_home_awet_Documents_nileride_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_home_awet_Documents_nileride_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_awet_Documents_nileride_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","_search","search","length","OpenStreetMapProvider","query","then","results","$","removeClass","console","log","setState","document","getElementById","style","visibility","nomi","i","map","result","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__","Row","key","Cell","onClick","handleRowClick","label","search_data","x","latlng","lat","parseFloat","y","lng","state","marker","addTo","bindPopup","fitBounds","bounds","change","e","preventDefault","addClass","_home_awet_Documents_nileride_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","target","name","value","clearTimeout","timeout","setTimeout","handleFocus","event","select","pickupAdress","locationGroup","pickup_latlng","_this2","locate","setView","maxZoom","tileLayer","attribution","LayerGroup","on","radius","accuracy","toFixed","openPopup","circle","currentLatLng","message","_this3","_this$state","isLoading","className","id","semantic_ui_react__WEBPACK_IMPORTED_MODULE_10__","centered","Column","mobile","tablet","computer","semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__","inverted","circular","link","placeholder","onFocus","onChange","celled","selectable","Body","Component"],"mappings":"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","file":"static/js/17.d80e17e7.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport L from 'leaflet';\nimport {NavLink, Redirect} from 'react-router-dom';\nimport { Grid, Form, Image, Button, Header, Label , Input, Table, List, Icon} from 'semantic-ui-react'\nimport { GeoSearchControl, OpenStreetMapProvider } from 'leaflet-geosearch';\nimport _ from 'lodash';\nimport $ from 'jquery';\n\nconst source = _.times(5, () => ({\n    title: \"yes\",\n    description: 'no',\n    image: 'no',\n    price: 20,\n  }))\n  var marker_a = L.icon({\n    iconUrl: '/assets/marker_a.png',\n    shadowUrl: '',\n\n    iconSize:     [40, 40], // size of the icon\n    shadowSize:   [50, 64], // size of the shadow\n    iconAnchor:   [20, 39], // point of the icon which will correspond to marker's location\n    shadowAnchor: [4, 62],  // the same for the shadow\n    popupAnchor:  [-1, -45] // point from which the popup should open relative to the iconAnchor\n});\nclass Playground extends Component {\n    constructor(){\n        super();\n        this.state = {\n            pickupAdress: 'Lord my God you have plan in my life',\n            locationGroup: '',\n            pickup_latlng: {\n                lat: 0,\n                lng: 0\n            },\n            results : [],\n            search_data : '',\n            map : ''\n        }\n    }\n\n    componentDidMount(){\n       \n        //var map = L.map('mapid').setView([9.0092, 38.7645], 16);\n        var map = L.map('mapid');\n        map.locate({setView: true, maxZoom: 17});\n        \n      \n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        }).addTo(map);\n\n        this.setState({\n            map : map,\n            locationGroup : new L.LayerGroup().addTo(map)\n        });\n\n        map.on('locationfound', (e) => {\n            var locationGroup = this.state.locationGroup;\n            //locationGroup.clearLayers();\n              var radius = e.accuracy / 1024;\n              radius = radius.toFixed(2);\n              L.marker(e.latlng).addTo(locationGroup)\n             .bindPopup(\"You are \" + radius + \" meters from this point\").openPopup();\n                console.log(e.latlng);\n              L.circle(e.latlng, radius).addTo(locationGroup);\n              map.setView(e.latlng,15);\n              this.setState({currentLatLng : e.latlng});\n        });\n        \n        function onLocationError(e) {\n            console.log('location error', e.message);\n        }\n        map.on('locationerror', onLocationError);\n\n        //my Lord is greate  - Jesus I call your name \n    }\n\n    _search = (search) => {\n        if(search.length > 0){\n            const provider = new OpenStreetMapProvider(); \n            provider\n            .search({ query: search })\n            .then((results) => { \n                $('.search_data').removeClass(\"loading\");\n              // do something with result;\n              console.log('I am winner beacuse I have Jesus', results);\n              this.setState({\n                  results : results\n              });\n              document.getElementById('search_result').style.visibility = 'visible';\n            });\n        } else {\n            $('.search_data').removeClass(\"loading\");\n        }\n    }\n\n    nomi = (results) => {\n        var i = 0;\n        const data = results.map((result) =>\n        <Table.Row key={i++} >\n            <Table.Cell onClick={() => this.handleRowClick(result)}>{result.label}</Table.Cell>\n        </Table.Row>         \n        );\n        return data;\n    }\n    \n    handleRowClick = (result) => {\n        if(result) {\n          document.getElementById('search_result').style.visibility = 'hidden';\n          this.setState({\n              search_data : result.label\n          });\n          //my lord thank you thank you \n          console.log('clicked', result.x);\n\n          var latlng = {\n              lat : parseFloat(result.y),\n              lng : parseFloat(result.x)\n          }\n          console.log(latlng);\n          var map = this.state.map;\n          L.marker(latlng, {icon: marker_a}).addTo(map)\n             .bindPopup(\"here\");\n             map.fitBounds(result.bounds);\n          \n          console.log(result.bounds);\n        }\n    }\n\n    change = (e) => {\n        e.preventDefault();\n        $('.search_data').addClass(\"loading\");\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n\n        clearTimeout(this.timeout);\n\n        this.timeout = setTimeout(this._search, 1000, e.target.value);\n    }\n\n    handleFocus = (event) => event.target.select();\n    \n    render(){\n        const { isLoading, value, results } = this.state\n        return(\n            <div>\n                <div className=\"search_1\" id=\"search_1\">\n                    <Grid centered>\n                        <Grid.Row>\n                            <Grid.Column mobile={16} tablet={16} computer={16}>\n                            <Form>\n                            <Input  icon={<Icon name='search' inverted circular link />} placeholder='Search...' onClick={this.handleFocus} onFocus={this.handleFocus} onChange={e => this.change(e)}  value={this.state.search_data} name=\"search_data\" className=\"search_data\"/>\n                            </Form>\n                            </Grid.Column>\n\n                        </Grid.Row>   \n                    </Grid>\n                    <div className=\"search_result\" id=\"search_result\">\n                     <Table celled selectable>\n                      <Table.Body>\n                       {this.nomi(this.state.results)}\n                      </Table.Body>\n                     </Table>\n                    </div>\n                </div>\n                \n                <div className=\"mapid\" id=\"mapid\"></div>\n            </div>\n        );\n    }\n}\nexport default Playground;"],"sourceRoot":""}