{"version":3,"sources":["components/menu.js","components/pickup_map.js","components/pick_up.js","components/dropoff_map.js","components/drop_off.js","components/driver/driver_location_map.js","components/driver/driver_menu.js","components/driver/driver_page.js","components/driver/apply_to_drive.js","components/driver/driver_login.js","components/driver/login.js","App.js","serviceWorker.js","index.js"],"names":["Component","PickUpMap","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getList","fetch","then","res","json","list","setState","getDrivers","map","awetRideIcon","L","icon","iconUrl","shadowUrl","iconSize","shadowSize","iconAnchor","shadowAnchor","popupAnchor","$","ajax","type","url","contentType","success","currentDrivers","textStatus","jqXHR","i","length","marker","currentLocation","bindPopup","firstName","middleName","plateNo","addTo","bind","assertThisInitialized","error","xhr","status","err","console","log","toString","findRoute","latlng1","latlng2","state","Routing","control","waypoints","latLng","on","routeFound","e","routes","_distance","summary","totalDistance","_ride_time","totalTime","Number","parseFloat","toFixed","_ride_time_string","n","hours","rhours","Math","floor","minutes","rminutes","round","timeConvert","parseInt","route_distance","route_price","_ride_price","route_time","isRouteFound","document","getElementById","style","visibility","innerHTML","rideRequest","latlng","objRideRequest","user_id","driver_id","pickup_latlng","concat","lat","lng","dropoff_latlng","data","JSON","stringify","driver","change","defineProperty","target","name","value","pickup_flag","dropoff_flag","pickup_location","markersLayer","pickupText","dropoffText","setView","locate","maxZoom","tileLayer","attribution","LayerGroup","radius","accuracy","openPopup","alert","message","_this2","Nominatim","lon","addressdetails","result","addLayer","display_name","session_pickup","localStorage","setItem","catch","_this3","react_default","a","createElement","className","Grid","fluid","Row","Col","xs","sm","md","FormGroup","FormControl","bsSize","placeholder","onChange","Button","bsStyle","id","Badge","onClick","PickUp","pickupAdress","pickup_map","socket","socketClient","DropOffMap","emit","msg","NearestDriverComponent","_ref","Image","src","car_pic","height","circle","driver_pic","model","driver_name","plate","driver_phone","dropoff_location","socket_data","parse","getItem","clearLayers","DropOff","dropoff_map","dropoff_latlang","DriverLocation","getDriver","token","headers","x-auth","socketConnect","_obj","socketJoin","updateDriverLocation","current_latlng","_latlng","currentLatLng","auth","email","mobile","DriverLogin","driver_location_map","ApplyToDrive","validateDriverApply","errors","push","indexOf","onDriverApply","preventDefault","error_list","getErrorList","render","Alert","password","re_password","driverApply","key","Redirect","to","PageHeader","Tooltip","placement","ControlLabel","DriverLoginForm","validateDriverLogin","loginEmail","loginPassword","onDriverLogin","login","driverLogin","onDismiss","handleDismiss","apply_to_drive","driver_login","App","zoom","BrowserRouter","Switch","Route","path","component","exact","DriverPage","React","Boolean","window","location","hostname","match","ReactDOM","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d2803f59.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport {NavLink} from 'react-router-dom';\nimport {Nav, Navbar, NavItem , Image, Button} from 'react-bootstrap';\n  \nclass Menu extends Component {\n    \n    render()\n    {\n        return(\n            <Navbar>\n            <Navbar.Toggle></Navbar.Toggle>\n            <Navbar.Header>\n                <Navbar.Brand>\n                  <Image src=\"/assets/awet-ride-m.png\" height={45}></Image>  \n                </Navbar.Brand>\n                <Navbar.Brand>\n                <a href=\"\">awet-ride</a>\n                </Navbar.Brand>\n            </Navbar.Header>\n           <Navbar.Collapse >\n            <Nav>\n            <NavItem>\n                <NavLink to=\"/\">Home</NavLink>\n                </NavItem>\n                <NavItem>\n                <NavLink to=\"/dropoff\">Map</NavLink>\n                </NavItem>\n                <NavItem>\n                <NavLink to=\"/about\">About</NavLink>\n                </NavItem>\n                <NavItem>\n                <NavLink to=\"/contact\">Contact</NavLink>\n                </NavItem>\n            </Nav>\n\n            <Nav pullRight>\n            <NavItem eventKey={1} href=\"#\">\n               \n            </NavItem>\n            <NavItem eventKey={2} href=\"#\">\n             <Button bsSize=\"small\">Sign in</Button>\n            </NavItem>\n            </Nav>\n\n            </Navbar.Collapse>\n            </Navbar>\n        );\n    }\n}\nexport default Menu;","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport L from 'leaflet';\nimport {Button, Grid, Row, Col, FormControl, FormGroup, ControlLabel, Badge} from 'react-bootstrap';\nimport {NavLink} from 'react-router-dom';\nimport * as Nominatim from \"nominatim-browser\";\nimport $ from 'jquery';\n\nclass PickUpMap extends Component {\n    constructor(){\n        super();\n        this.state = {\n            pickup_flag: 'off',\n            dropoff_flag: 'off',\n            pickup_location : 'Select your pickup location',\n            pickup_latlng : {\n                lat: 0,\n                lng: 0\n            },\n            dropoff_latlng : {\n                lat: 0,\n                lng: 0\n            },\n            route_price : 0,\n            route_distance : 0,\n            route_time : 0,\n            isRouteFound : false,\n            map : '',\n            markersLayer: '',\n            list: [],\n            currentDrivers : [],\n            pickupText : '',\n            dropoffText : ''\n        }\n    }\n    \n    getList = () => {\n        var obj = { name: \"John\", age: 30, city: \"New York\" }; \n        fetch('/api/getList')\n        .then(res => res.json())\n        .then(list => this.setState({ list }))\n    }\n    \n    getDrivers = (map) => {\n        var awetRideIcon = L.icon({\n            iconUrl: '/assets/awet-ride-marker-1.png',\n            shadowUrl: '',\n        \n            iconSize:     [80, 49], // size of the icon\n            shadowSize:   [50, 64], // size of the shadow\n            iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location\n            shadowAnchor: [4, 62],  // the same for the shadow\n            popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor\n        });\n        $.ajax({ \n            type:\"GET\",\n            url:\"/drivers\",\n            contentType: \"application/json\",\n            success: function(currentDrivers, textStatus, jqXHR) {\n             for (var i = 0; i < currentDrivers.length; i++) {\n                    L.marker([currentDrivers[i].currentLocation[0],currentDrivers[i].currentLocation[1]], {icon: awetRideIcon})\n                     .bindPopup(currentDrivers[i].firstName + ' ' + currentDrivers[i].middleName +  ' <br> Plate : ' + currentDrivers[i].plateNo)\n                     .addTo(map);\n             }\n            }.bind(this),\n            error: function(xhr, status, err) {\n                console.log('getdrivers error', err.toString());\n                \n            }.bind(this)\n        });  \n    }\n\n    componentDidMount(){\n        var map = L.map('mapid').setView([9.0092, 38.7645], 16);\n        map.locate({setView: true, maxZoom: 17});\n        \n        this.setState({map : map});\n\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        }).addTo(map);\n\n        var markersLayer = new L.LayerGroup().addTo(map);\n        this.setState({markersLayer: markersLayer});\n\n        function onLocationFound(e) {\n            var radius = e.accuracy / 128;\n        \n            L.marker(e.latlng).addTo(map)\n                .bindPopup(\"YOU are\" + radius + \" meters from this point\").openPopup();\n        \n            //L.circle(e.latlng, radius).addTo(map);\n        }\n        \n        map.on('locationfound', onLocationFound);\n\n        function onLocationError(e) {\n            alert(e.message);\n        }\n        \n        map.on('locationerror', onLocationError);\n\n        this.getDrivers(map);  \n    };\n\n    componentDidUpdate(){\n        var map = this.state.map;\n        var marker;\n        var markersLayer = this.state.markersLayer;\n        \n        map.on('click', (e) => {\n            Nominatim.reverseGeocode({\n                lat: e.latlng.lat,\n                lon: e.latlng.lng,\n                addressdetails: true\n            })\n            .then((result : NominatimResponse) =>\n            {\n                if(this.state.pickup_flag === 'off'){\n                    //markersLayer.clearLayers();\n                    marker = L.marker(e.latlng).addTo(markersLayer).bindPopup(\"<div class='popup-title'> Your pickup </div>\" + \"<div class='popup-content'> driver will come here.</div>\" );\n                    markersLayer.addLayer(marker); \n                    this.setState({\n                        pickupText: result.display_name,\n                        pickup_latlng : e.latlng, \n                        pickup_flag: 'on',\n                    });\n                    var session_pickup = e.latlng;\n                    localStorage.setItem(\"session_pickup\", JSON.stringify(session_pickup));\n                } else if(this.state.pickup_flag === 'on' && this.state.dropoff_flag === 'off'){\n                    marker = L.marker(e.latlng).addTo(markersLayer).bindPopup(\"<div class='popup-title'> Your dropoff </div>\" + \"<div class='popup-content'> ride ends here.</div>\" );\n                    markersLayer.addLayer(marker); \n                    this.setState({\n                        dropoffText: result.display_name,\n                        dropoff_latlng : e.latlng, \n                        dropoff_flag: 'on',\n                    });\n                }\n\n                console.log('pickup', this.state.pickup_flag);\n                console.log('dropoff', this.state.dropoff_flag);\n            })\n            .catch((error) =>\n            {\n                console.error(error); \n            });        \n        }); \n        \n        if(this.state.dropoff_flag === 'on' && this.state.pickup_flag ==='on' & this.state.isRouteFound === false) {\n            var latlng1 = this.state.pickup_latlng;\n            var latlng2 = this.state.dropoff_latlng;\n            this.findRoute(latlng1, latlng2);\n        }\n    }\n\n    findRoute = (latlng1, latlng2) => {\n        var map = this.state.map;\n        L.Routing.control({\n            waypoints: [\n             L.latLng(latlng1),\n             L.latLng(latlng2)\n            ]\n        })\n        .on('routesfound', this.routeFound)\n        .addTo(map);  \n    }\n    \n    routeFound =(e) => {\n        var routes = e.routes;\n        var _distance = routes[0].summary.totalDistance;\n        var _ride_time = routes[0].summary.totalTime;\n        \n        _distance = Number.parseFloat(_distance/1000).toFixed(2);\n       var  _ride_time_string = timeConvert(Number.parseInt(_ride_time));\n\n        this.setState({\n             route_distance : Number.parseFloat(_distance).toFixed(2),\n             route_price : _ride_price,\n             route_time : _ride_time,\n             isRouteFound : true \n         });\n\n        function timeConvert(n) {\n            var num = n;\n            var hours = (num / 3600);\n            var rhours = Math.floor(hours);\n            var minutes = (hours - rhours) * 60;\n            var rminutes = Math.round(minutes);\n            \n            var hDisplay = rhours > 0 ? rhours + \" hr\" : \"\";\n            var mDisplay = rminutes > 0 ? rminutes + \" min\" : \"\";\n            return hDisplay + mDisplay; \n         }\n        var price_per_km = 19;\n        var _ride_price = Number.parseFloat(_distance * price_per_km).toFixed(2);\n        \n        document.getElementById('ride-price-dashboard').style.visibility = \"visible\";\n        document.getElementById('ride_price').innerHTML = _ride_price + ' Birr';\n        document.getElementById('distance').innerHTML = _distance + ' km';\n        document.getElementById('ride_time').innerHTML = _ride_time_string;\n    }\n\n    rideRequest = (latlng) => {\n        var objRideRequest = {\n            user_id: '7141',\n            driver_id: '0',\n            pickup_latlng: `POINT(${this.state.pickup_latlng.lat} ${this.state.pickup_latlng.lng})`, \n            dropoff_latlng: `POINT(${this.state.dropoff_latlng.lat} ${this.state.dropoff_latlng.lng})`,\n            route_distance: this.state.route_distance,\n            route_time: this.state.route_time,\n            route_price: this.state.route_price,\n            status: 1\n        };\n\n        $.ajax({ \n            type:\"POST\",\n            url:\"/ride/rideRequest\",\n            data: JSON.stringify(objRideRequest), \n            contentType: \"application/json\",\n            success: function(data, textStatus, jqXHR) {\n                console.log(\"Nearest driver\", data);\n                document.getElementById('div-request').style.visibility = 'visible';\n                this.setState({driver: data});\n                \n            }.bind(this),\n            error: function(xhr, status, err) {\n                console.error(xhr, status, err.toString());\n            }.bind(this)\n        });  \n    }\n\n    change = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    render(){    \n        return(\n            <div>\n              <div className=\"user-dashboard\">\n                 <Grid fluid>\n                   <Row>\n                       <Col xs={9} sm={9} md={9}>\n                            <FormGroup>\n                            <FormControl\n                            bsSize=\"sm\"\n                            name=\"pickupText\"\n                            type=\"text\"\n                            value={this.state.pickupText}\n                            placeholder=\"Select pickup\"\n                            onChange={e => this.change(e)}\n                            >\n                            </FormControl>\n                            </FormGroup>\n                            </Col>\n                       <Col xs={1} sm={1} md={1}>\n                          <Button bsSize=\"sm\" bsStyle=\"link\">Cancel</Button>\n                       </Col>\n                   </Row>\n\n                   <Row>\n                       <Col xs={9} sm={9} md={9}>\n                            <FormGroup>\n                            <FormControl\n                            bsSize=\"sm\"\n                            name=\"dropoffText\"\n                            type=\"text\"\n                            value={this.state.dropoffText}\n                            placeholder=\"Select your dropoff\"\n                            onChange={e => this.change(e)}\n                            >\n                            </FormControl>\n                            </FormGroup>\n                            </Col>\n                       <Col xs={1} sm={1} md={1}>\n                           <Button bsSize=\"sm\" bsStyle=\"link\">Cancel</Button>\n                       </Col>\n                   </Row>\n                 </Grid>\n              </div>\n              \n              <div className=\"ride-price-dashboard\" id=\"ride-price-dashboard\">\n                <div>\n                  <Grid fluid={true}>\n                      <Row>\n                          <Col xs={4} md={4}>\n                            Price <Badge><div id=\"ride_price\"></div></Badge>   \n                          </Col>\n\n                          <Col xs={4} md={4}>\n                           Distance <Badge><div id=\"distance\"></div></Badge>\n                          </Col>\n\n                          <Col xs={4} md={4}>\n                           Time <Badge><div id=\"ride_time\"></div></Badge>\n                          </Col>\n                      </Row>\n\n                      <Row className=\"rowPadding\">\n                          <Col xs={6} sm={6} md={6}>\n                          <Button  onClick={(e) => this.rideRequest(this.state.pickup_latlng, e)} bsStyle=\"success\" bsSize=\"small\">Request ride</Button>\n                          </Col>\n\n                          <Col xs={6} sm={6} md={6}>\n                          <Button  bsStyle=\"danger\" bsSize=\"small\">Cancel ride</Button>\n                          </Col>\n                      </Row>\n\n                  </Grid>\n                  </div>\n                  <div id=\"div-process\" className=\"div-process\">\n                   <div className=\"div-pickup-btn-box\"></div> \n                  </div>\n              </div>\n\n              <div className=\"mapid\" id=\"mapid\"></div>\n            </div>\n        );\n    }\n}\nexport default PickUpMap;","import React, { Component } from 'react';\nimport PickUpMap from './pickup_map';\n\nclass PickUp extends Component {\n    constructor(){\n        super();\n        this.state = {\n            pickupAdress: 'Lord my God you have plan in my life',\n            pickup_latlng: {\n                lat: 0,\n                lng: 0\n            }\n        }\n    }\n\n    render(){\n        return(\n            <div>\n                <PickUpMap pickupAdress={this.state.pickup_latlng}></PickUpMap>\n            </div>\n        );\n    }\n}\nexport default PickUp;","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport L from 'leaflet';\nimport $ from 'jquery';\nimport {Button, Image, Badge, Grid, Row, Col} from 'react-bootstrap';\nimport * as Nominatim from \"nominatim-browser\";\nimport GeometryUtil from 'leaflet-geometryutil';\nimport {Routing} from 'leaflet-routing-machine';\nimport socketClient from 'socket.io-client';\n\nconst socket = socketClient('http://localhost:5000');\n\nclass DropOffMap extends Component {\n    constructor(){\n        super();\n        this.state = {\n            dropoff_flag: false,\n            pickup_flag: true,\n            dropoff_location : 'Select your pickup location',\n            dropoff_latlng : {\n                lat: 9.0092,\n                lng: 38.7545\n            },\n            pickup_latlng : {\n                lat: 9.0092,\n                lng: 38.7645\n            },\n            route_price : 0,\n            route_distance : 0,\n            route_time : 0,\n            isRouteFound : false,\n            map : '',\n            markersLayer: '',\n            driver: {\n                id: '',\n                driver_name: '',\n                driver_phone: '',\n                model: '',\n                plate: '',\n                car_pic : '',\n                driver_pic : ''\n            },\n            socket_data : ''\n        }\n\n        this.rideRequest = this.rideRequest.bind(this);\n    }\n\n    rideRequest = (latlng) => {\n        var objRideRequest = {\n            user_id: '7141',\n            driver_id: '0',\n            pickup_latlng: `POINT(${this.state.pickup_latlng.lat} ${this.state.pickup_latlng.lng})`, \n            dropoff_latlng: `POINT(${this.state.dropoff_latlng.lat} ${this.state.dropoff_latlng.lng})`,\n            route_distance: this.state.route_distance,\n            route_time: this.state.route_time,\n            route_price: this.state.route_price,\n            status: 1\n        };\n\n        $.ajax({ \n            type:\"POST\",\n            url:\"/ride/rideRequest\",\n            data: JSON.stringify(objRideRequest), \n            contentType: \"application/json\",\n            success: function(data, textStatus, jqXHR) {\n                console.log(\"Nearest driver\", data);\n                document.getElementById('div-request').style.visibility = 'visible';\n                this.setState({driver: data});\n                socket.emit('request_driver', {\n                    msg : 'test'\n                });\n            }.bind(this),\n            error: function(xhr, status, err) {\n                console.error(xhr, status, err.toString());\n            }.bind(this)\n        });  \n    }\n\n    componentDidMount(){\n        var map = L.map('mapid').setView([9.0092, 38.7645], 16);\n        this.setState({map : map});\n\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        }).addTo(map);\n\n        var markersLayer = new L.LayerGroup().addTo(map);\n        this.setState({markersLayer: markersLayer});\n        this.setState({pickup_latlng: JSON.parse(localStorage.getItem(\"session_pickup\"))});\n    };\n\n    componentDidUpdate(){\n        var map = this.state.map;\n        var marker;\n        var markersLayer = this.state.markersLayer;\n        \n        map.on('click', (e) => {\n            Nominatim.reverseGeocode({\n                lat: e.latlng.lat,\n                lon: e.latlng.lng,\n                addressdetails: true\n            })\n            .then((result : NominatimResponse) =>\n            {\n                markersLayer.clearLayers();\n                marker = L.marker(e.latlng).addTo(markersLayer).bindPopup(\"<div class='popup-title'> Your dropoff location is </div>\" + \"<div class='popup-content'>\" + result.display_name + \"</div>\" ).openPopup();\n                markersLayer.addLayer(marker); \n                this.setState({\n                    dropoff_location: result.display_name,\n                    dropoff_latlng : e.latlng, \n                    dropoff_flag: true,\n                });\n            })\n            .catch((error) =>\n            {\n                console.error(error); \n            }); \n        }); \n\n        if(this.state.dropoff_flag && this.state.pickup_flag & this.state.isRouteFound === false) {\n            var latlng1 = this.state.pickup_latlng;\n            var latlng2 = this.state.dropoff_latlng;\n            this.findRoute(latlng1, latlng2);\n        }\n    }\n\n    findRoute = (latlng1, latlng2) => {\n        var map = this.state.map;\n        L.Routing.control({\n            waypoints: [\n             L.latLng(latlng1),\n             L.latLng(latlng2)\n            ]\n        })\n        .on('routesfound', this.routeFound)\n        .addTo(map);  \n    }\n    \n    routeFound =(e) => {\n        var routes = e.routes;\n        var _distance = routes[0].summary.totalDistance;\n        var _ride_time = routes[0].summary.totalTime;\n        \n        _distance = Number.parseFloat(_distance/1000).toFixed(2);\n       var  _ride_time_string = timeConvert(Number.parseInt(_ride_time));\n\n        this.setState({\n             route_distance : Number.parseFloat(_distance).toFixed(2),\n             route_price : _ride_price,\n             route_time : _ride_time,\n             isRouteFound : true \n         });\n\n        function timeConvert(n) {\n            var num = n;\n            var hours = (num / 3600);\n            var rhours = Math.floor(hours);\n            var minutes = (hours - rhours) * 60;\n            var rminutes = Math.round(minutes);\n            \n            var hDisplay = rhours > 0 ? rhours + \" hr\" : \"\";\n            var mDisplay = rminutes > 0 ? rminutes + \" min\" : \"\";\n            return hDisplay + mDisplay; \n         }\n        var price_per_km = 19;\n        var _ride_price = Number.parseFloat(_distance * price_per_km).toFixed(2);\n        \n        document.getElementById('ride_price').innerHTML = _ride_price + ' Birr';\n        document.getElementById('distance').innerHTML = _distance + ' km';\n        document.getElementById('ride_time').innerHTML = _ride_time_string;\n    }\n\n    NearestDriverComponent = ({driver}) => {\n        return(\n            <div>\n            <Grid fluid={true}>\n                <Row>\n                    <Col xs={6} md={6}>\n                       <Image src={driver.car_pic} height={45} circle></Image>  \n                    </Col>\n\n                    <Col xs={6} md={6}>\n                       <Image src={driver.driver_pic} height={45} circle></Image>\n                    </Col>\n                </Row>\n\n                <Row>\n                    <Col xs={6} md={6}>\n                        {driver.model}\n                    </Col>\n\n                    <Col xs={6} md={6}>\n                        {driver.driver_name}\n                    </Col>\n                </Row>\n\n                <Row>\n                    <Col xs={6} md={6}>\n                      {driver.plate}\n                    </Col>\n\n                    <Col xs={6} md={6}>\n                      {driver.driver_phone}\n                    </Col>\n                </Row>\n\n            </Grid>\n            </div>\n        );\n    }\n\n    render(){    \n        return(\n            \n            <div>\n              <div className=\"mapid\" id=\"mapid\"></div>\n              <div className=\"div-request\" id=\"div-request\">\n                   <this.NearestDriverComponent driver={this.state.driver}></this.NearestDriverComponent>\n                </div>\n\n                <div className=\"div-ride-price\">\n                <div>\n                  <Grid fluid={true}>\n                      <Row>\n                          <Col xs={4} md={4}>\n                            Price <Badge><div id=\"ride_price\"></div></Badge>   \n                          </Col>\n\n                          <Col xs={4} md={4}>\n                           Distance <Badge><div id=\"distance\"></div></Badge>\n                          </Col>\n\n                          <Col xs={4} md={4}>\n                           Time <Badge><div id=\"ride_time\"></div></Badge>\n                          </Col>\n                      </Row>\n                  </Grid>\n                  </div>\n                  <div id=\"div-process\" className=\"div-process\">\n                   <div className=\"div-pickup-btn-box\"><Button  onClick={(e) => this.rideRequest(this.state.pickup_latlng, e)} bsStyle=\"success\" bsSize=\"small\">Request Driver</Button></div> \n                  </div>\n              </div>\n            </div>\n        );\n    }\n}\nexport default DropOffMap;","import React, { Component } from 'react';\nimport DropOffMap from './dropoff_map';\n\nclass DropOff extends Component {\n    constructor(){\n        super();\n        this.state = {\n            dropoff_location: 'Lord my God you have plan in my life',\n            dropoff_latlng: {\n                lat: 0,\n                lng: 0\n            }\n        }\n    }\n\n    render(){\n        return(\n            <div>\n                <DropOffMap dropoff_latlng={this.state.dropoff_latlang}></DropOffMap>\n            </div>\n        );\n    }\n}\nexport default DropOff;","import React, { Component } from 'react';\nimport {Grid, Row, Col, Nav, Navbar, NavItem , NavDropdown, MenuItem, Image, Button, Badge} from 'react-bootstrap';\nimport L from 'leaflet';\nimport $ from 'jquery';\nimport socketClient from 'socket.io-client';\n\nimport DriverMenu from './driver_menu';\n\n\nconst socket = socketClient('http://localhost:5000');\n\nclass DriverLocation extends Component {\n   constructor() {\n       super();\n       this.state = {\n           currentLatLng: {\n               lat: 0,\n               lng: 0\n           },\n           driver_id: '',\n           markersLayer: '',\n           map : '',\n           auth: false,\n           driver: {\n               firstName: '',\n               middleName: '',\n               email: '',\n               mobile: '',\n               status: ''\n           }\n       }\n   }\n   \n   getDriver = (token) => {\n    $.ajax({ \n        type:\"GET\",\n        url:\"/driver/get\",\n        headers: { 'x-auth': token },\n        contentType: \"application/json\",\n        success: function(driver, textStatus, jqXHR) {\n            console.log('hi', driver);\n          //document.getElementById('driver_name').innerHTML = 'Hi, ' + driver.firstName;\n          this.setState({\n              driver: driver\n          });   \n        }.bind(this),\n        error: function(xhr, status, err) {\n            console.log('getdriver', err.toString());\n            console.error(xhr, status, err.toString());\n        }.bind(this)\n    });  \n   }\n\n   socketConnect = (_obj) => {\n    socket.on('connect', function(){\n        console.log('client connected');\n\n        socket.emit('join', _obj, function(err) {\n            if(err) {\n               alert(err);\n            }\n        });\n    });\n    \n    socket.on('driveRequest' , function(msg) {\n        console.log('drive request' , msg);\n    })\n    \n    socket.on('disconnect', function(){\n        console.log('client disconnected');\n    });\n   }\n   \n   socketJoin = (_obj) => {\n    \n   }\n\n   componentDidMount(){\n    this.getDriver(localStorage.getItem(\"auth\"));   \n    this.setState({\n        auth: localStorage.getItem(\"auth\")\n    });\n\n    var data = {\n        driver_id : 4141\n    };\n    \n    this.socketConnect(data);\n\n    var map = L.map('mapid').setView([9.0092, 38.7645], 16);\n    map.locate({setView: true, maxZoom: 17});\n    \n    this.setState({map : map});\n\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(map);\n\n    var markersLayer = new L.LayerGroup().addTo(map);\n    this.setState({markersLayer: markersLayer});\n    \n   }\n\n   componentDidUpdate() {\n    var map = this.state.map;\n    var marker;\n    var markersLayer = this.state.markersLayer;\n    \n    map.on('locationfound', (e) => {\n        this.updateDriverLocation(e.latlng, localStorage.getItem(\"auth\"));\n        var radius = e.accuracy / 128;\n        L.marker(e.latlng).addTo(map)\n            .bindPopup(\"You are \" + radius + \" meters from this point\").openPopup();\n        L.circle(e.latlng, radius).addTo(map);\n        this.setState({\n            currentLatLng : e.latlng\n        });       \n    });\n\n    function onLocationError(e) {\n        alert(e.message);\n    }\n    map.on('locationerror', onLocationError);\n   }\n\n   updateDriverLocation = (latlng, token) => {\n       console.log('current latlng', latlng);\n    var current_latlng = {\n        _latlng : `POINT(${latlng.lat} ${latlng.lng})`, \n    };\n\n    $.ajax({ \n        type:\"POST\",\n        url:\"/driver/updateLocation\",\n        headers: { 'x-auth': token },\n        data: JSON.stringify(current_latlng), \n        contentType: \"application/json\",\n        success: function(data, textStatus, jqXHR) {\n          \n        }.bind(this),\n        error: function(xhr, status, err) {\n            console.error(xhr, status, err.toString());\n        }.bind(this)\n    });  \n   }\n\n    render(){\n        \n        return(\n            <div>\n                <div className=\"driver-dashboard\">\n                <Grid fluid>\n                    <Row>\n                        <Col xs={12} sm={12} md={12}><div id=\"driver_name\">Hi, {this.state.driver.firstName}</div></Col>\n                    </Row>\n                    <Row>\n                        <Col xs={6} sm={6} md={6}>earning</Col>\n                        <Col xs={6} sm={6} md={6}>ride </Col>\n                    </Row>\n                    <Row>\n                        <Col xs={6} sm={6} md={6}><Badge>23,340 br</Badge></Col>\n                        <Col xs={6} sm={6} md={6}><Badge>170</Badge></Col>\n                    </Row>\n                    <Row>\n                        <Col xs={6} sm={6} md={6}>charge </Col>\n                        <Col xs={6} sm={6} md={6}>account</Col>\n                    </Row>\n                    <Row>\n                        <Col xs={6} sm={6} md={6}><Badge className=\"charge\">800 birr</Badge></Col>\n                        <Col xs={6} sm={6} md={6}><Badge className=\"account\">active</Badge></Col>\n                    </Row>\n                </Grid>\n                </div>\n                <div className=\"mapid\" id=\"mapid\"></div>\n                \n            </div>\n        );\n    }\n}\nexport default DriverLocation;","import React, {Component} from 'react';\nimport {NavLink} from 'react-router-dom';\nimport {Nav, Navbar, NavItem , NavDropdown, MenuItem, Image, Button, Badge} from 'react-bootstrap';\n  \nclass DriverMenu extends Component {\n    \n    render()\n    {\n        return(\n            <Navbar>\n            <Navbar.Header>\n                <Navbar.Brand>\n                <a href=\"#home\">awet</a>\n                </Navbar.Brand>\n                <Navbar.Toggle />\n            </Navbar.Header>\n            <Navbar.Collapse>\n                <Navbar.Text>\n                 Hi Sara !\n                </Navbar.Text>\n                <Navbar.Text>\n                 earning <Badge>42,800.00 birr</Badge>\n                </Navbar.Text>\n                <Navbar.Text>\n                 ride <Badge>170</Badge>\n                </Navbar.Text>\n                <Navbar.Text pullRight>\n                 account <Badge>active</Badge>\n                </Navbar.Text>\n                <Navbar.Text pullRight>\n                 charge <Badge>800 birr</Badge>\n                </Navbar.Text>\n            </Navbar.Collapse>\n            </Navbar>          \n        );\n    }\n}\nexport default DriverMenu;","import React, { Component } from 'react';\nimport DriverLocation from './driver_location_map';\n\nclass DriverLogin extends Component {\n   constructor(){\n       super();\n       this.state = {\n           latlng : {\n               lat: 0,\n               lng: 0\n           }\n       }\n   }\n\n   render(){\n       console.log('driver page');\n       return(\n           <div>\n              <DriverLocation ></DriverLocation>\n           </div>\n       );\n   }\n}\nexport default DriverLogin;","import React , { Component } from 'react';\nimport { render } from 'react-dom';\nimport  { Redirect } from 'react-router-dom'\nimport {Grid, Row, Col, FormGroup, FormControl, ControlLabel, Tooltip, PageHeader, Button, Alert} from 'react-bootstrap';\nimport $ from 'jquery';\n\nclass ApplyToDrive extends Component {\n    constructor(){\n        super();\n        this.state = {\n            firstName: '',\n            middleName: '',\n            email: '',\n            mobile: '',\n            password: '',\n            re_password: '',\n            plateNo: '',\n            errors: [],\n            auth: false\n        }\n    }\n\n    validateDriverApply = () => {\n        let errors = [];\n        \n        if(this.state.firstName.length === 0) {\n            errors.push(\"First name field is empty.\");\n        }\n\n        if(this.state.middleName.length === 0) {\n            errors.push(\"Father name field is empty.\");\n        }\n\n        if(this.state.firstName.length < 3) {\n          errors.push(\"Name field need to be at least 2 characters.\");\n        }\n    \n        if(this.state.email.indexOf('@') === -1) {\n          errors.push(\"Email address is not valid.\");\n        }\n    \n        if(this.state.mobile.length === 0) {\n          errors.push(\"Mobile field is empty.\");\n        }\n    \n        return errors;\n    }\n\n    getErrorList(errors){\n        var i = 0;\n        let error_list = errors.map(error => {\n            return <li key={i++}>{error}</li>\n        });\n        return error_list;\n    }\n\n    change = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    onDriverApply = (e) => {\n        e.preventDefault();\n        const err = this.validateDriverApply();\n        if(err.length > 0){\n            let error_list = this.getErrorList(err);\n            render(<Alert bsStyle=\"danger\" >{error_list}</Alert>,document.getElementById('FormError'));\n        } else {\n            var driver = {\n                firstName: this.state.firstName,\n                middleName: this.state.middleName,\n                email: this.state.email,\n                mobile: this.state.mobile,\n                password: this.state.password,\n                re_password: this.state.re_password,\n                plateNo: this.state.plateNo\n            }\n            this.driverApply(driver)\n            this.setState({\n                firstName: '',\n                middleName: '',\n                email: '',\n                mobile: '',\n                password: '',\n                re_password: '',\n                plateNo: '',\n                errors: []\n            });\n        }\n    }\n\n    driverApply = (driver) => {\n        $.ajax({ \n            type:\"POST\",\n            url:\"/driver/apply\",\n            data: JSON.stringify(driver), \n            contentType: \"application/json\",\n            success: function(data, textStatus, jqXHR) {\n              localStorage.setItem(\"auth\", data.token);\n              this.setState({\n                  auth: data.token\n              })  \n              \n              console.log('token', data.token);\n              //render(<Alert bsStyle=\"success\" onDismiss={this.handleDismiss}><h4>{data.firstName}, You have successfully applied to drive. </h4> <br /> Please check your email to activate your driving account. <br /> after checking your email , login to your account using your email address, <h6>{data.email}</h6></Alert>,document.getElementById('FormError'));\n              console.log(\"driver applied success\", data);\n              \n            }.bind(this),\n            error: function(xhr, status, err) {\n                console.error(xhr, status, err.toString());\n            }.bind(this)\n        });  \n    }\n\n\n    render(){\n        if(this.state.auth) {\n            return <Redirect to='/driver'  />\n        }\n        \n        return(\n            <div>\n                <Grid fluid>\n                <Row>\n                    <Col xs={12} sm={12} md={12}>\n                    <div>\n                        <PageHeader>\n                            NEW DRIVER\n                            <Tooltip placement=\"bottom\" className=\"in\" id=\"tooltip-bottom\">\n                              New driver apply here.\n                            </Tooltip>\n                        </PageHeader>\n                    </div>\n                    </Col>\n                </Row> \n                <form>\n                <Row>\n                    <Col xs={12} sm={6} md={6}>\n                    <FormGroup>\n                    <ControlLabel>First Name</ControlLabel>\n                    <FormControl\n                    name=\"firstName\"\n                    type=\"text\"\n                    value={this.state.firstName}\n                    placeholder=\"First Name\"\n                    onChange={e => this.change(e)}\n                    >\n                    </FormControl>\n                    </FormGroup>\n                    </Col>\n                    <Col xs={12} sm={6} md={6}>\n                    <FormGroup>\n                    <ControlLabel>Father Name</ControlLabel>\n                    <FormControl\n                    name=\"middleName\"\n                    type=\"text\"\n                    value={this.state.middleName}\n                    placeholder=\"Father Name\"\n                    onChange={e => this.change(e)}\n                    >\n                    </FormControl>\n                    </FormGroup>\n                    </Col>\n                </Row>\n\n                <Row>\n                    <Col xs={12} sm={6} md={6}>\n                    <FormGroup>\n                    <ControlLabel>Email</ControlLabel>\n                    <FormControl\n                    name=\"email\"\n                    type=\"text\"\n                    value={this.state.email}\n                    placeholder=\"email address\"\n                    onChange={e => this.change(e)}\n                    >\n                    </FormControl>\n                    </FormGroup>\n                    </Col>\n                    <Col xs={12} sm={6} md={6}>\n                    <FormGroup>\n                    <ControlLabel>Mobile</ControlLabel>\n                    <FormControl\n                    name=\"mobile\"\n                    type=\"text\"\n                    value={this.state.mobile}\n                    placeholder=\"Mobile number\"\n                    onChange={e => this.change(e)}\n                    >\n                    </FormControl>\n                    </FormGroup>\n                    </Col>\n                </Row>\n\n                <Row>\n                    <Col xs={12} sm={6} md={6}>\n                    <FormGroup>\n                    <ControlLabel>Password</ControlLabel>\n                    <FormControl\n                    name=\"password\"\n                    type=\"password\"\n                    value={this.state.password}\n                    placeholder=\"Password\"\n                    onChange={e => this.change(e)}\n                    >\n                    </FormControl>\n                    </FormGroup>\n                    </Col>\n                    <Col xs={12} sm={6} md={6}>\n                    <FormGroup>\n                    <ControlLabel>Retype Password</ControlLabel>\n                    <FormControl\n                    name=\"re_password\"\n                    type=\"password\"\n                    value={this.state.re_password}\n                    placeholder=\"Retype password\"\n                    onChange={e => this.change(e)}\n                    >\n                    </FormControl>\n                    </FormGroup>\n                    </Col>\n                </Row>\n                <Row className=\"text-center\">\n                    <Col xs={12} sm={12} md={12}>\n                    <Button type=\"submit\" bsSize=\"large\" bsStyle=\"success\" onClick={e => this.onDriverApply(e)}  >APPLY TO DRIVE</Button>\n                    </Col> \n                </Row>\n\n                </form>\n                </Grid>\n            </div>\n        );\n    }\n}\nexport default ApplyToDrive;","import React, { Component } from 'react';\nimport {Grid, Row, Col, FormGroup, FormControl, ControlLabel, Tooltip, PageHeader, Button, Alert} from 'react-bootstrap';\nimport { render } from 'react-dom';\nimport  { Redirect } from 'react-router-dom'\nimport $ from 'jquery';\n\nclass DriverLoginForm extends Component {\n  constructor(){\n      super();\n      this.state = {\n          loginEmail: '',\n          loginPassword: ''\n      }\n  }\n\n    validateDriverLogin = () => {\n        let errors = [];\n        \n        if(this.state.loginEmail.length === 0) {\n            errors.push(\"Email field is empty.\");\n        }\n\n        if(this.state.loginPassword.length === 0) {\n            errors.push(\"Password field is empty.\");\n        }\n\n        return errors;\n    }\n\n    getErrorList(errors){\n        var i = 0;\n        let error_list = errors.map(error => {\n            return <li key={i++}>{error}</li>\n        });\n        return error_list;\n    }\n\n    change = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    } \n\n    onDriverLogin = (e) => {\n        e.preventDefault();\n        const err = this.validateDriverLogin();\n        if(err.length > 0){\n            let error_list = this.getErrorList(err);\n            render(<Alert bsStyle=\"danger\" >{error_list}</Alert>,document.getElementById('FormError'));\n        } else {\n            var login = {\n                email: this.state.loginEmail,\n                password: this.state.loginPassword\n            }\n            this.driverLogin(login)\n            \n            this.setState({\n                loginEmail: '',\n                loginPassword: '',\n                errors: []\n            });\n        }\n    }\n\n  driverLogin = (login) => {\n      console.log('test', login);\n        $.ajax({ \n            type:\"POST\",\n            url:\"/driver/login\",\n            data: JSON.stringify(login), \n            contentType: \"application/json\",\n            success: function(data, textStatus, jqXHR) {\n             localStorage.setItem(\"auth\", data.token);\n             this.setState({\n                auth: data.token\n             });   \n            }.bind(this),\n            error: function(xhr, status, err) {\n                console.log('errrrr',err.toString());\n                if(err.toString() === 'Unauthorized'){\n                  render(<Alert bsStyle=\"danger\" onDismiss={this.handleDismiss}> Invalid account ! please check your email and password</Alert>,document.getElementById('FormError'));\n                } else {\n                    render(<Alert bsStyle=\"danger\" onDismiss={this.handleDismiss}> Somthing wrong ! try again.</Alert>,document.getElementById('FormError'));  \n                }  \n            }.bind(this)\n        });  \n  } \n\n  render(){\n      if(this.state.auth) {\n        return <Redirect to='/driver'  />\n      }\n      return(\n        <div>\n           <Grid fluid>\n                <Row>\n                    <Col xs={12} sm={12} md={12}>\n                    <PageHeader>\n                        LOGIN\n                        <Tooltip placement=\"bottom\" className=\"in\" id=\"tooltip-bottom\">\n                              Exsting driver login here.\n                        </Tooltip>\n                    </PageHeader>\n                    </Col>\n                </Row> \n                <form>\n                <Row>\n                    <Col xs={12} sm={12} md={12}>\n                    <FormGroup>\n                    <ControlLabel>Email</ControlLabel>\n                    <FormControl\n                    name=\"loginEmail\"\n                    type=\"text\"\n                    value={this.state.loginEmail}\n                    placeholder=\"Email Address\"\n                    onChange={e => this.change(e)}\n                    >\n                    </FormControl>\n                    </FormGroup>\n                    </Col>\n                    <Col xs={12} sm={12} md={12}>\n                    <FormGroup>\n                    <ControlLabel>Password</ControlLabel>\n                    <FormControl\n                    name=\"loginPassword\"\n                    type=\"password\"\n                    value={this.state.loginPassword}\n                    placeholder=\"Password\"\n                    onChange={e => this.change(e)}\n                    >\n                    </FormControl>\n                    </FormGroup>\n                    </Col>\n                </Row>\n\n                <Row className=\"text-center\">\n                    <Col xs={12} sm={12} md={12}>\n                    <Button type=\"submit\" bsSize=\"large\" bsStyle=\"primary\" onClick={e => this.onDriverLogin(e)}  >LOGIN</Button>\n                    </Col> \n                </Row>\n\n                </form>\n                </Grid>\n        </div>\n      )\n  }\n}\nexport default DriverLoginForm;","import React, { Component } from 'react';\nimport {Button, Grid, Row, Col, PageHeader, FormGroup} from 'react-bootstrap';\nimport ApplyToDrive from './apply_to_drive';\nimport DriverLoginForm from './driver_login';\n\nclass DriverLogin extends Component {\n  constructor(){\n    super();\n\n    this.state = {\n      auth: ''\n    }\n    localStorage.setItem(\"auth\", '');\n  }\n\n  render() {\n    const auth = localStorage.getItem(\"auth\");\n    console.log('received token', auth);\n    return(\n     <div>\n       {auth ? (\n         <div> Driver dashboard </div>\n       ) : (\n         <div>\n           <Grid>\n            <Row>\n              <Col xs={12} sm={12} md={12}>\n                <PageHeader>\n                    AWET\n                </PageHeader>\n              </Col>\n            </Row>\n\n            <Row className=\"text-center\">\n              <Col xs={12} sm={12} md={12}>\n                <div id=\"FormError\"></div>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col xs={12} sm={6} md={6}>\n                <div className=\"driverApplyBox\">\n                  <ApplyToDrive></ApplyToDrive>\n                </div>\n                \n              </Col>\n\n              <Col xs={12} sm={6} md={6}>\n                <div className=\"driverLoginBox\">\n                  <DriverLoginForm></DriverLoginForm>\n                </div>\n              </Col>\n            </Row>\n          </Grid>\n         </div>\n       )} \n     </div>\n    );\n\n  }\n}\nexport default DriverLogin;","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport {BrowserRouter, Route, Switch} from 'react-router-dom';\n\nimport Menu from './components/menu';\nimport PickUp from './components/pick_up';\nimport DropOff from './components/drop_off';\nimport DriverPage from './components/driver/driver_page';\nimport DriverLogin from './components/driver/login';\n\nimport './App.css';\n\n\nclass App extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      lat: 9.0089,\n      lng: 38.7629,\n      zoom: 16\n    }\n  }\n\n  render() {\n    const position = [this.state.lat, this.state.lng];\n    const positionTwo = [9.0092, 38.7645];\n    \n    return (\n\n      <div>\n        <BrowserRouter>\n          <div>\n            <Switch>\n                <Route path=\"/\" component={PickUp} exact />\n                <Route path=\"/dropoff\" component={DropOff} exact/>\n\n                <Route path=\"/driver\" component={DriverPage} exact/>\n                <Route path=\"/driver/login\" component={DriverLogin} exact/>\n            </Switch>\n          </div>\n        </BrowserRouter>  \n        \n      </div>\n      \n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}