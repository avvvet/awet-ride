{"version":3,"sources":["components/menu.js","components/pickup_map.js","components/pick_up.js","components/dropoff_map.js","components/drop_off.js","App.js","serviceWorker.js","index.js"],"names":["Menu","react_default","a","createElement","Navbar","Toggle","Header","Brand","Image","src","height","href","Collapse","Nav","NavItem","NavLink","to","pullRight","eventKey","Button","bsSize","Component","PickUpMap","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getList","fetch","then","res","json","list","setState","state","pickup_flag","pickup_location","pickup_latlng","lat","lng","map","markersLayer","L","setView","tileLayer","attribution","addTo","LayerGroup","on","e","radius","accuracy","marker","latlng","bindPopup","openPopup","circle","alert","message","_this2","Nominatim","lon","addressdetails","result","clearLayers","display_name","addLayer","session_pickup","localStorage","setItem","JSON","stringify","catch","error","console","className","id","bsStyle","block","PickUp","pickupAdress","pickup_map","DropOffMap","getNearestDriver","$","ajax","type","url","data","contentType","success","textStatus","jqXHR","log","document","getElementById","style","visibility","driver","bind","assertThisInitialized","xhr","status","err","toString","onRequest","innerHTML","NearestDriverComponent","_ref","Grid","fluid","Row","Col","xs","md","car_pic","driver_pic","model","driver_name","plate","driver_phone","dropoff_flag","dropoff_location","dropoff_latlng","parse","getItem","latlng1","latlng2","Routing","control","waypoints","routes","_distance","summary","totalDistance","_ride_time","totalTime","Number","parseFloat","toFixed","n","hours","rhours","Math","floor","minutes","rminutes","round","timeConvert","parseInt","_ride_price","shortesRoute","_this3","Badge","onClick","DropOff","dropoff_map","dropoff_latlang","App","zoom","BrowserRouter","menu","Switch","Route","path","component","exact","React","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2724775c.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport {NavLink} from 'react-router-dom';\nimport {Nav, Navbar, NavItem , Image, Button} from 'react-bootstrap';\n  \nclass Menu extends Component {\n    \n    render()\n    {\n        return(\n            <Navbar>\n            <Navbar.Toggle></Navbar.Toggle>\n            <Navbar.Header>\n                <Navbar.Brand>\n                  <Image src=\"/assets/awet-ride-m.png\" height={45}></Image>  \n                </Navbar.Brand>\n                <Navbar.Brand>\n                <a href=\"\">awet-ride</a>\n                </Navbar.Brand>\n            </Navbar.Header>\n           <Navbar.Collapse >\n            <Nav>\n            <NavItem>\n                <NavLink to=\"/\">Home</NavLink>\n                </NavItem>\n                <NavItem>\n                <NavLink to=\"/dropoff\">Map</NavLink>\n                </NavItem>\n                <NavItem>\n                <NavLink to=\"/about\">About</NavLink>\n                </NavItem>\n                <NavItem>\n                <NavLink to=\"/contact\">Contact</NavLink>\n                </NavItem>\n            </Nav>\n\n            <Nav pullRight>\n            <NavItem eventKey={1} href=\"#\">\n               \n            </NavItem>\n            <NavItem eventKey={2} href=\"#\">\n             <Button bsSize=\"small\">Sign in</Button>\n            </NavItem>\n            </Nav>\n\n            </Navbar.Collapse>\n            </Navbar>\n        );\n    }\n}\nexport default Menu;","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport L from 'leaflet';\nimport {Button} from 'react-bootstrap';\nimport * as Nominatim from \"nominatim-browser\";\nimport $ from 'jquery';\n\nclass PickUpMap extends Component {\n    constructor(){\n        super();\n        this.state = {\n            pickup_flag: false,\n            pickup_location : 'Select your pickup location',\n            pickup_latlng : {\n                lat: 0,\n                lng: 0\n            },\n            map : '',\n            markersLayer: '',\n            list: []\n        }\n    }\n    \n    getList = () => {\n        var obj = { name: \"John\", age: 30, city: \"New York\" }; \n        fetch('/api/getList')\n        .then(res => res.json())\n        .then(list => this.setState({ list }))\n    }\n    \n    componentDidMount(){\n        var map = L.map('mapid').setView([9.0092, 38.7645], 16);\n       // map.locate({setView: true, maxZoom: 17});\n        \n        this.setState({map : map});\n\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        }).addTo(map);\n\n        var markersLayer = new L.LayerGroup().addTo(map);\n        this.setState({markersLayer: markersLayer});\n\n        function onLocationFound(e) {\n            var radius = e.accuracy / 128;\n        \n            L.marker(e.latlng).addTo(map)\n                .bindPopup(\"YOU are\" + radius + \" meters from this point\").openPopup();\n        \n            L.circle(e.latlng, radius).addTo(map);\n        }\n        \n        map.on('locationfound', onLocationFound);\n\n        function onLocationError(e) {\n            alert(e.message);\n        }\n        \n        map.on('locationerror', onLocationError);\n        \n    };\n\n    componentDidUpdate(){\n        var map = this.state.map;\n        var marker;\n        var markersLayer = this.state.markersLayer;\n        \n        map.on('click', (e) => {\n            Nominatim.reverseGeocode({\n                lat: e.latlng.lat,\n                lon: e.latlng.lng,\n                addressdetails: true\n            })\n            .then((result : NominatimResponse) =>\n            {\n                \n                markersLayer.clearLayers();\n                marker = L.marker(e.latlng).addTo(markersLayer).bindPopup(\"<div class='popup-title'> Your pickup location is </div>\" + \"<div class='popup-content'>\" + result.display_name + \"</div>\" ).openPopup();\n                markersLayer.addLayer(marker); \n                this.setState({\n                    pickup_location: result.display_name,\n                    pickup_latlng : e.latlng, \n                    pickup_flag: true,\n                });\n                var session_pickup = e.latlng;\n                localStorage.setItem(\"session_pickup\", JSON.stringify(session_pickup));\n            })\n            .catch((error) =>\n            {\n                console.error(error); \n            });        \n        }); \n    }\n    \n    render(){    \n        return(\n            <div>\n              <div className=\"mapid\" id=\"mapid\"></div>\n                <div className=\"div-pickup\">\n                <div className=\"style-1\"><h6>First step : Pickup location</h6></div>\n                <div className=\"div-pickup-address\">{this.state.pickup_location}</div>\n                <div className=\"div-pickup-btn-box\"><Button href=\"/drop-off\" bsStyle=\"success\" bsSize=\"large\" block>Continue</Button></div> \n              </div>\n            </div>\n        );\n    }\n}\nexport default PickUpMap;","import React, { Component } from 'react';\nimport PickUpMap from './pickup_map';\n\nclass PickUp extends Component {\n    constructor(){\n        super();\n        this.state = {\n            pickupAdress: 'Lord my God you have plan in my life',\n            pickup_latlng: {\n                lat: 0,\n                lng: 0\n            }\n        }\n    }\n\n    render(){\n        return(\n            <div>\n                <PickUpMap pickupAdress={this.state.pickup_latlng}></PickUpMap>\n            </div>\n        );\n    }\n}\nexport default PickUp;","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport L from 'leaflet';\nimport $ from 'jquery';\nimport {Button, Image, Badge, Grid, Row, Col} from 'react-bootstrap';\nimport * as Nominatim from \"nominatim-browser\";\nimport GeometryUtil from 'leaflet-geometryutil';\nimport {Routing} from 'leaflet-routing-machine';\n\nclass DropOffMap extends Component {\n    constructor(){\n        super();\n        this.state = {\n            dropoff_flag: false,\n            pickup_flag: true,\n            dropoff_location : 'Select your pickup location',\n            dropoff_latlng : {\n                lat: 9.0092,\n                lng: 38.7545\n            },\n            pickup_latlng : {\n                lat: 9.0092,\n                lng: 38.7645\n            },\n            map : '',\n            markersLayer: '',\n            driver: {\n                id: '',\n                driver_name: '',\n                driver_phone: '',\n                model: '',\n                plate: '',\n                car_pic : '',\n                driver_pic : ''\n            }\n        }\n\n        this.getNearestDriver = this.getNearestDriver.bind(this);\n    }\n\n    getNearestDriver = (latlng) => {\n        $.ajax({ \n            type:\"POST\",\n            url:\"/driver/getNearestDriver\",\n            data: JSON.stringify(latlng), \n            contentType: \"application/json\",\n            success: function(data, textStatus, jqXHR) {\n                console.log(\"Nearest driver\", data);\n                document.getElementById('div-request').style.visibility = 'visible';\n                this.setState({driver: data});\n            }.bind(this),\n            error: function(xhr, status, err) {\n                console.error(xhr, status, err.toString());\n            }.bind(this)\n        });  \n    }\n\n    onRequest = () => {\n       fetch('/driver/getNearestDriver', {})\n       document.getElementById('div-process').innerHTML='';\n       //send ajax request pickup address and wait for driver - this will return the driver\n       document.getElementById('div-request').style.visibility = 'visible';\n    }\n\n    componentDidMount(){\n        var map = L.map('mapid').setView([9.0092, 38.7645], 16);\n        this.setState({map : map});\n\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        }).addTo(map);\n\n        var markersLayer = new L.LayerGroup().addTo(map);\n        this.setState({markersLayer: markersLayer});\n        this.setState({pickup_latlng: JSON.parse(localStorage.getItem(\"session_pickup\"))});\n    };\n\n    componentDidUpdate(){\n        var map = this.state.map;\n        var marker;\n        var markersLayer = this.state.markersLayer;\n        \n        map.on('click', (e) => {\n            Nominatim.reverseGeocode({\n                lat: e.latlng.lat,\n                lon: e.latlng.lng,\n                addressdetails: true\n            })\n            .then((result : NominatimResponse) =>\n            {\n                markersLayer.clearLayers();\n                marker = L.marker(e.latlng).addTo(markersLayer).bindPopup(\"<div class='popup-title'> Your dropoff location is </div>\" + \"<div class='popup-content'>\" + result.display_name + \"</div>\" ).openPopup();\n                markersLayer.addLayer(marker); \n                this.setState({\n                    dropoff_location: result.display_name,\n                    dropoff_latlng : e.latlng, \n                    dropoff_flag: true,\n                });\n            })\n            .catch((error) =>\n            {\n                console.error(error); \n            });        \n        }); \n\n        if(this.state.dropoff_flag && this.state.pickup_flag) {\n            var latlng1 = this.state.pickup_latlng;\n            var latlng2 = this.state.dropoff_latlng;\n            shortesRoute(latlng1, latlng2);\n        }\n \n        function shortesRoute(latlng1, latlng2){\n            L.Routing.control({\n                waypoints: [\n                 latlng1,\n                 latlng2\n                ]\n            })\n            .on('routesfound', function(e) {\n                var routes = e.routes;\n                var _distance = routes[0].summary.totalDistance;\n                var _ride_time = routes[0].summary.totalTime;\n                \n                _distance = Number.parseFloat(_distance/1000).toFixed(2);\n                _ride_time = timeConvert(Number.parseInt(_ride_time));\n\n                var price_per_km = 25;\n                var _ride_price = Number.parseFloat(_distance * price_per_km).toFixed(2);\n                \n                document.getElementById('ride_price').innerHTML = _ride_price + ' Birr';\n                document.getElementById('distance').innerHTML = _distance + ' km';\n                document.getElementById('ride_time').innerHTML = _ride_time;\n            })\n            .addTo(map);  \n        }\n\n       function timeConvert(n) {\n           var num = n;\n           var hours = (num / 3600);\n           var rhours = Math.floor(hours);\n           var minutes = (hours - rhours) * 60;\n           var rminutes = Math.round(minutes);\n           \n           var hDisplay = rhours > 0 ? rhours + \" hr\" : \"\";\n           var mDisplay = rminutes > 0 ? rminutes + \" min\" : \"\";\n           return hDisplay + mDisplay; \n        }\n    }\n    \n    NearestDriverComponent = ({driver}) => {\n        return(\n            <div>\n            <Grid fluid={true}>\n                <Row>\n                    <Col xs={6} md={6}>\n                       <Image src={driver.car_pic} height={45} circle></Image>  \n                    </Col>\n\n                    <Col xs={6} md={6}>\n                       <Image src={driver.driver_pic} height={45} circle></Image>\n                    </Col>\n                </Row>\n\n                <Row>\n                    <Col xs={6} md={6}>\n                        {driver.model}\n                    </Col>\n\n                    <Col xs={6} md={6}>\n                        {driver.driver_name}\n                    </Col>\n                </Row>\n\n                <Row>\n                    <Col xs={6} md={6}>\n                      {driver.plate}\n                    </Col>\n\n                    <Col xs={6} md={6}>\n                      {driver.driver_phone}\n                    </Col>\n                </Row>\n\n            </Grid>\n            </div>\n        );\n    }\n\n    render(){    \n        return(\n            \n            <div>\n              <div className=\"mapid\" id=\"mapid\"></div>\n              <div className=\"div-request\" id=\"div-request\">\n                   <this.NearestDriverComponent driver={this.state.driver}></this.NearestDriverComponent>\n                </div>\n\n                <div className=\"div-ride-price\">\n                <div>\n                  <Grid fluid={true}>\n                      <Row>\n                          <Col xs={4} md={4}>\n                            Price <Badge><div id=\"ride_price\"></div></Badge>   \n                          </Col>\n\n                          <Col xs={4} md={4}>\n                           Distance <Badge><div id=\"distance\"></div></Badge>\n                          </Col>\n\n                          <Col xs={4} md={4}>\n                           Time <Badge><div id=\"ride_time\"></div></Badge>\n                          </Col>\n                      </Row>\n                  </Grid>\n                  </div>\n                  <div id=\"div-process\" className=\"div-process\">\n                   <div className=\"div-pickup-btn-box\"><Button  onClick={(e) => this.getNearestDriver(this.state.pickup_latlng, e)} bsStyle=\"success\" bsSize=\"small\">Request Driver</Button></div> \n                  </div>\n              </div>\n            </div>\n        );\n    }\n}\nexport default DropOffMap;","import React, { Component } from 'react';\nimport DropOffMap from './dropoff_map';\n\nclass DropOff extends Component {\n    constructor(){\n        super();\n        this.state = {\n            dropoff_location: 'Lord my God you have plan in my life',\n            dropoff_latlng: {\n                lat: 0,\n                lng: 0\n            }\n        }\n    }\n\n    render(){\n        return(\n            <div>\n                <DropOffMap dropoff_latlng={this.state.dropoff_latlang}></DropOffMap>\n            </div>\n        );\n    }\n}\nexport default DropOff;","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport {BrowserRouter, Route, Switch} from 'react-router-dom';\n\nimport Menu from './components/menu';\nimport PickUp from './components/pick_up';\nimport DropOff from './components/drop_off';\nimport './App.css';\n\n\nclass App extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      lat: 9.0089,\n      lng: 38.7629,\n      zoom: 16\n    }\n  }\n\n  render() {\n    const position = [this.state.lat, this.state.lng];\n    const positionTwo = [9.0092, 38.7645];\n    \n    return (\n\n      <div>\n        <BrowserRouter>\n          <div>\n            <Menu />\n            <Switch>\n                <Route path=\"/\" component={PickUp} exact />\n                <Route path=\"/dropoff\" component={DropOff} exact/>\n            </Switch>\n          </div>\n        </BrowserRouter>  \n        \n      </div>\n      \n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}